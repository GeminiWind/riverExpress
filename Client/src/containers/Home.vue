<template>
  <div>
    <div class="content_top">
      <div class="row">
        <div class="col-lg-6 col-md-6 col-sm6">
          <slick ref="slick" :options="slickOptions">
            <div class="single_iteam"><img src="../assets/images/550x330x1.jpg" alt="">
              <h2><a class="slider_tittle" href="pages/single.html">Fusce eu nulla semper porttitor felis sit amet</a></h2>
            </div>
            <div class="single_iteam"><img src="../assets/images/550x330x2.jpg" alt="">
              <h2><a class="slider_tittle" href="pages/single.html">Fusce eu nulla semper porttitor felis sit amet</a></h2>
            </div>
            <div class="single_iteam"><img src="../assets/images/550x330x3.jpg" alt="">
              <h2><a class="slider_tittle" href="pages/single.html">Fusce eu nulla semper porttitor felis sit amet</a></h2>
            </div>
            <div class="single_iteam"><img src="../assets/images/550x330x4.jpg" alt="">
              <h2><a class="slider_tittle" href="pages/single.html">Fusce eu nulla semper porttitor felis sit amet</a></h2>
            </div>
          </slick>
        </div>
        <div class="col-lg-6 col-md-6 col-sm6">
          <div class="content_top_right">
            <ul class="featured_nav wow fadeInDown">
              <li><img src="../assets/images/300x215x1.jpg" alt="">
                <div class="title_caption"><a href="pages/single.html">Sed luctus semper odio aliquam rhoncus</a></div>
              </li>
              <li><img src="../assets/images/300x215x2.jpg" alt="">
                <div class="title_caption"><a href="pages/single.html">Sed luctus semper odio aliquam rhoncus</a></div>
              </li>
              <li><img src="../assets/images/300x215x3.jpg" alt="">
                <div class="title_caption"><a href="pages/single.html">Sed luctus semper odio aliquam rhoncus</a></div>
              </li>
              <li><img src="../assets/images/300x215x4.jpg" alt="">
                <div class="title_caption"><a href="pages/single.html">Sed luctus semper odio aliquam rhoncus</a></div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="content_middle">
      <div class="col-lg-3 col-md-3 col-sm-3">
        <div class="content_middle_leftbar">
          <div class="single_category wow fadeInDown">
            <h2> <span class="bold_line"><span></span></span> <span class="solid_line"></span> <a href="#" class="title_text">category1</a> </h2>
            <ul class="catg1_nav">
              <li>
                <div class="catgimg_container">
                  <a href="pages/single.html" class="catg1_img"><img alt="" src="../assets/images/292x150x1.jpg"></a>
                </div>
                <h3 class="post_titile"><a href="pages/single.html">Vestibulum ut est augue, in varius</a></h3>
              </li>
              <li>
                <div class="catgimg_container">
                  <a href="pages/single.html" class="catg1_img"><img alt="" src="../assets/images/292x150x2.jpg"></a>
                </div>
                <h3 class="post_titile"><a href="pages/single.html">Vestibulum ut est augue, in varius</a></h3>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="content_middle_middle">
          <slick ref="slick" :options="slick2">
            <div class="single_featured_slide">
              <a href="pages/single.html"><img src="../assets/images/567x330x1.jpg" alt=""></a>
              <h2><a href="pages/single.html">Praesent vitae quam vitae arcu posuer 1</a></h2>
              <p>Nunc tincidunt, elit non cursus euismod, lacus augue ornare metus, egestas imperdiet nulla nisl quis mauris. Suspendisse a pharetra urna. Morbi dui lectus, pharetra nec elementum eget, vulput...</p>
            </div>
            <div class="single_featured_slide">
              <a href="pages/single.html"><img src="../assets/images/567x330x2.jpg" alt=""></a>
              <h2><a href="#">Praesent vitae quam vitae arcu posuer 2</a></h2>
              <p>Nunc tincidunt, elit non cursus euismod, lacus augue ornare metus, egestas imperdiet nulla nisl quis mauris. Suspendisse a pharetra urna. Morbi dui lectus, pharetra nec elementum eget, vulput...</p>
            </div>
            <div class="single_featured_slide">
              <a href="pages/single.html"><img src="../assets/images/567x330x3.jpg" alt=""></a>
              <h2><a href="#">Praesent vitae quam vitae arcu posuer 3</a></h2>
              <p>Nunc tincidunt, elit non cursus euismod, lacus augue ornare metus, egestas imperdiet nulla nisl quis mauris. Suspendisse a pharetra urna. Morbi dui lectus, pharetra nec elementum eget, vulput...</p>
            </div>
          </slick>
        </div>
      </div>
      <div class="col-lg-3 col-md-3 col-sm-3">
        <div class="content_middle_rightbar">
          <div class="single_category wow fadeInDown">
            <h2> <span class="bold_line"><span></span></span> <span class="solid_line"></span> <a href="#" class="title_text">category2</a> </h2>
            <ul class="catg1_nav">
              <li>
                <div class="catgimg_container">
                  <a href="pages/single.html" class="catg1_img"><img alt="" src="../assets/images/292x150x1.jpg"></a>
                </div>
                <h3 class="post_titile"><a href="pages/single.html">Vestibulum ut est augue, in varius</a></h3>
              </li>
              <li>
                <div class="catgimg_container">
                  <a href="pages/single.html" class="catg1_img"><img alt="" src="../assets/images/292x150x2.jpg"></a>
                </div>
                <h3 class="post_titile"><a href="pages/single.html">Vestibulum ut est augue, in varius</a></h3>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="content_bottom">
      <div class="col-lg-8 col-md-8">
        <div class="content_bottom_left">
          <div class="single_category wow fadeInDown">
            <h2> <span class="bold_line"><span></span></span> <span class="solid_line"></span> <a class="title_text" href="#">Business</a> </h2>
            <div class="business_category_left wow fadeInDown">
              <ul class="fashion_catgnav">
                <li>
                  <div class="catgimg2_container">
                    <a href="pages/single.html"><img alt="" src="../assets/images/390x240x1.jpg"></a>
                  </div>
                  <h2 class="catg_titile"><a href="pages/single.html">Aenean mollis metus sit amet ligula adipiscing</a></h2>
                  <div class="comments_box"> <span class="meta_date">14/12/2045</span> <span class="meta_comment"><a href="#">No Comments</a></span> <span class="meta_more"><a  href="#">Read More...</a></span> </div>
                  <p>Nunc tincidunt, elit non cursus euismod, lacus augue ornare metus, egestas imperdiet nulla...</p>
                </li>
              </ul>
            </div>
            <div class="business_category_right wow fadeInDown">
              <ul class="small_catg">
                <li>
                  <div class="media wow fadeInDown">
                    <a class="media-left" href="pages/single.html"><img src="../assets/images/112x112.jpg" alt="" width="112px" height="112px"></a>
                    <div class="media-body">
                      <h4 class="media-heading"><a href="pages/single.html">Duis condimentum nunc pretium lobortis </a></h4>
                      <div class="comments_box"> <span class="meta_date">14/12/2045</span> <span class="meta_comment"><a href="#">No Comments</a></span> </div>
                    </div>
                  </div>
                </li>
                <li>
                  <div class="media wow fadeInDown">
                    <a class="media-left" href="#"><img src="../assets/images/112x112.jpg" alt=""></a>
                    <div class="media-body">
                      <h4 class="media-heading"><a href="#">Duis condimentum nunc pretium lobortis </a></h4>
                      <div class="comments_box"> <span class="meta_date">14/12/2045</span> <span class="meta_comment"><a href="#">No Comments</a></span> </div>
                    </div>
                  </div>
                </li>
                <li>
                  <div class="media wow fadeInDown">
                    <a class="media-left" href="#"><img src="../assets/images/112x112.jpg" alt=""></a>
                    <div class="media-body">
                      <h4 class="media-heading"><a href="#">Duis condimentum nunc pretium lobortis </a></h4>
                      <div class="comments_box"> <span class="meta_date">14/12/2045</span> <span class="meta_comment"><a href="#">No Comments</a></span> </div>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
          <div class="games_fashion_area">
            <div class="games_category">
              <div class="single_category">
                <h2> <span class="bold_line"><span></span></span> <span class="solid_line"></span> <a class="title_text" href="#">Games</a> </h2>
                <ul class="fashion_catgnav wow fadeInDown">
                  <li>
                    <div class="catgimg2_container">
                      <router-link :to="{ name: 'article', params: { article: games[0].slug }}"><img alt="" :src=games[0].image></router-link>
                    </div>
                    <h2 class="catg_titile">
                      <router-link :to="{ name: 'article', params: { article: games[0].slug }}">{{ games[0].title }}</router-link>
                    </h2>
                    <div class="comments_box"> <span class="meta_date">{{ games[0].created_at | moment("ddd, hA")}}</span> <span class="meta_comment"><router-link :to="{ name: 'article', params: { article: games[0].slug }}">{{ games[0].comments.length}} comments</router-link></span>                    <span class="meta_more"><router-link :to="{ name: 'article', params: { article: games[0].slug }}">Read More...</router-link></span> </div>
                    <p>{{ games[0].short_intro | substring(93) }}</p>
                  </li>
                </ul>
                <ul class="small_catg wow fadeInDown" v-for="(game,index) in games" :key="game.slug">
                  <li v-if="index >0 && index <3">
                    <div class="media">
                      <router-link :to="{ name: 'article', params: { article: game.slug }}" class="media-left"><img :src=game.image alt="" width="112" height="112"> </router-link>
                      <div class="media-body">
                        <h4 class="media-heading">
                          <router-link :to="{ name: 'article', params: { article: game.slug }}">{{ game.slug }} </router-link>
                        </h4>
                        <div class="comments_box"> <span class="meta_date">{{ game.created_at | moment("ddd,hA")}}</span> <span class="meta_comment"><router-link :to="{ name: 'article', params: { article: game.slug }}">{{ game.comments.length }} comments</router-link></span> </div>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
            <div class="fashion_category">
              <div class="single_category">
                <div class="single_category wow fadeInDown">
                  <h2> <span class="bold_line"><span></span></span> <span class="solid_line"></span> <a class="title_text" href="#">Fashion</a> </h2>
                  <ul class="fashion_catgnav wow fadeInDown">
                    <li>
                      <div class="catgimg2_container">
                        <router-link :to="{ name: 'article', params: { article: fashions[0].slug }}"><img alt="" :src="fashions[0].image" width="112px" height="112px"></router-link>
                      </div>
                      <h2 class="catg_titile">
                        <router-link :to="{ name: 'article', params: { article: fashions[0].slug }}">{{ fashions[0].title }}</router-link>
                      </h2>
                      <div class="comments_box"> <span class="meta_date">{{ fashions[0].created_at | moment("ddd, hA") }}</span> <span class="meta_comment"><router-link :to="{ name: 'article', params: { article: fashions[0].slug }}">{{ fashions[0].comments.length }} Comments</router-link></span>                      <span class="meta_more"><router-link :to="{ name: 'article', params: { article: fashions[0].slug }}">Read More...</router-link></span> </div>
                      <p>{{ fashions[0].short_intro | substring(93) }} </p>
                    </li>
                  </ul>
                  <ul class="small_catg wow fadeInDown" v-for="(fashion, index) in fashions" :key="fashion.slug">
                    <li v-if="index >0 && index <3">
                      <div class="media wow fadeInDown">
                        <router-link :to="{ name: 'article', params: { article: fashion.slug }}" class="media-left"><img :src=fashion.image alt="" width="112px" height="112px"></router-link>
                        <div class="media-body">
                          <h4 class="media-heading">
                            <router-link :to="{ name: 'article', params: { article: fashion.slug }}">{{ fashion.title }} </router-link>
                          </h4>
                          <div class="comments_box"> <span class="meta_date">{{ fashion.created_at | moment("ddd, hA")}}</span> <span class="meta_comment"><router-link :to="{ name: 'article', params: { article: fashion.slug }}">{{ fashion.comments.length }} Comments</router-link></span>                          </div>
                        </div>
                      </div>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <div class="technology_catrarea">
            <div class="single_category">
              <h2> <span class="bold_line"><span></span></span> <span class="solid_line"></span>
                <router-link :to="{ name: 'category', params: { category: 'Technology' }}" class="title_text">Technology</router-link>
              </h2>
              <div class="business_category_left">
                <ul class="fashion_catgnav wow fadeInDown">
                  <li>
                    <div class="catgimg2_container">
                      <router-link :to="{ name: 'article', params: { article: technologies[0].slug }}"><img alt="" :src="technologies[0].image"></router-link>
                    </div>
                    <h2 class="catg_titile">
                      <router-link :to="{ name: 'article', params: { article: technologies[0].slug }}">{{ technologies[0].title }}</router-link>
                    </h2>
                    <div class="comments_box"> <span class="meta_date"> {{ technologies[0].created_at | moment("ddd, hA") }}</span> <span class="meta_comment"><router-link :to="{ name: 'article', params: { article: technologies[0].slug }}">{{ technologies[0].comments.length }} Comments</router-link></span>                    <span class="meta_more"><router-link :to="{ name: 'article', params: { article: technologies[0].slug }}">Read More...</router-link></span> </div>
                    <div>
                      <p>{{ technologies[0].short_intro | substring(93) }}</p>
                    </div>
                  </li>
                </ul>
              </div>
              <div class="business_category_right">
                <ul class="small_catg wow fadeInDown" v-for="(technology, index) in technologies" :key="technology.slug">
                  <li v-if="index > 0 && index < 4">
                    <div class="media wow fadeInDown">
                      <router-link :to="{ name: 'article', params: { article: technology.slug }}" class="media-left"><img :src="technology.image" alt="" width="112px" height="112px"></router-link>
                      <div class="media-body">
                        <h4 class="media-heading">
                          <router-link :to="{ name: 'article', params: { article: technology.slug }}">{{ technology.title }}</router-link>
                        </h4>
                        <div class="comments_box"> <span class="meta_date">{{ technology.created_at | moment("ddd, hA") }}</span> <span class="meta_comment"><router-link :to="{ name: 'article', params: { article: technology.slug }}">{{ technology.comments.length }} Comments</router-link></span>                        </div>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      <Sidebar></Sidebar>
    </div>
  </div>
</template>

<script>
  import Sidebar from '../components/sidebar/right/Sidebar.vue';
  import Slick from 'vue-slick';
  export default {
    components: {
      Sidebar,
      Slick
    },
    name: 'home',
    data() {
      return {
        games: [],
        fashions: [],
        technologies: [],
        bussinesses: [],
        slickOptions: {
          slidesToShow: 4,
          infinite: true,
          speed: 500,
          slidesToShow: 1,
          slide: 'div',
          autoplay: true,
          autoplaySpeed: 2000,
          cssEase: 'linear',
          arrows: false
        },
        slick2: {
          infinite: true,
          speed: 500,
          autoplay: true,
          autoplaySpeed: 2000,
          fade: true,
          slide: 'div',
          cssEase: 'linear',
          arrows: false,
        }
      }
    },
    created() {
      this.fetchGames();
      this.fetchFashions();
      this.fetchTechnologies();
      this.fetchBussinesses();
    },
    methods: {
      async fetchByCategory(category) {
        try {
          const {
            data
          } = await this.$http.get(`/articles?category=${category}`);
          return data.data;
        } catch (error) {
          this.$router.push({
            path: '/500'
          });
        }
      },
      async fetchGames() {
        this.games = await this.fetchByCategory('Game');
      },
      async fetchFashions() {
        this.fashions = await this.fetchByCategory('Fashion');
      },
      async fetchTechnologies() {
        this.technologies = await this.fetchByCategory('Technology');
      },
      async fetchBussinesses() {
        this.bussinesses = await this.fetchByCategory('Bussiness');
      },
      next() {
        this.$refs.slick.next();
      },
      prev() {
        this.$refs.slick.prev();
      },
      reInit() {
        this.$nextTick(() => {
          this.$refs.slick.reSlick();
        });
      }
    }
  }
</script>